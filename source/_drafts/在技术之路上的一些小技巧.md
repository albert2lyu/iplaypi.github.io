---
title: 在技术之路上的一些小技巧
id: 2020-03-12 01:26:47
date: 2020-02-13 01:26:47
updated: 2020-02-13 01:26:47
categories:
tags:
keywords:
---


2020021301
基础技术知识
Python,Java


# Python 虚拟环境


Python 是一种脚本语言，需要运行 Python 脚本就需要先安装 Python 环境，安装后别忘记配置环境变量。

官方网站：[python](https://www.python.org/downloads) 。

唯一需要注意的是安装时先核对脚本的语法，是安装 2.7.X 版本还是 3.X 版本，它们的语法有时候不兼容，导致脚本无法跑通。

假如跑一个脚本，把输出重定向到一个文件中：nohup python test.py > nohup.out 2>&1 &，结果发现 nohup.out 中显示不出来 python 程序中 print 的东西【或者是不及时，隔一段时间才会有一点内容】。

这是因为 python 的输出有缓冲机制，导致 nohup.out 并不能够马上看到输出。其实运行 python 脚本的时候有个 -u 参数，使得 python 不启用缓冲：nohup python -u test.py > nohup.out 2>&1 &。

python 的 chardet 模块，可以查看字符串的编码：chardet.detect(data)。


# Excel 的知识


Excel 2003 最大行数65536，Excel 2007最大行数1048576。

Excel 2003 最大列数256，2007 版本以上16384列。


# 文件编码转换工具


xx


# 文件名编码转换工具


在 `Linux` 系统中，如果把一个以中文命名的文件上传上去【特别是从 `Windows` 系统上传上去】，文件名可能会乱码，导致无法使用 `Shell` 操作文件，此时可以使用 `xx` 工具转换文件名的编码。


# 常用命令


## Shell

### 使用 sed 操作文本文件

搜索替换之类的：

```
把文件中的 xxx 全部替换为 yyy，不带 -i 参数直接输出内容，不会更改文件
sed -i "s/xxx/yyy/g" your_file

在文件第 n 行前插入内容 xxx，不带 -i 参数直接输出内容，不会更改文件
注意 Linux 中以换行符 LF 作为一行的判断条件，所以指定不存在的行号时无法插入数据
sed -i "ni\xxx" your_file

输出文件的第 n 到 m 行内容
sed -n "n,mp" your_file
```

### 查看 Linux 系统的发行版本

`lsb_release -a`，该命令适用于所有 `Linux` 系统，会显示出完整的版本信息，包括 `Linux` 系统的名称，如：`Debian`、`Ubuntu`、`CentOS` 等，和对应的版本号，以及该版本的代号，例如在 `Debian 8` 中将会显示代号 `jessie`。

```
输出示例：
No LSB modules are available.
Distributor ID:	Ubuntu
Description:	Ubuntu 14.04.6 LTS
Release:	14.04
Codename:	trusty
```

`cat /etc/issue`，该命令适用于所有的 `Linux` 系统，显示的版本信息较为简略，只有系统名称和对应的版本号。

```
输出示例：
Ubuntu 14.04.6 LTS \n \l
```

`cat /etc/redhat-release`，该命令仅适用于 `Redhat` 系列的 `Linux` 系统，显示的版本信息也较为简略。

```
输出示例：
CentOS release 6.10 (Final)
```

`uname -a`、`cat /proc/version`，可以查看 `Linux` 的内核版本：

```
输出示例1：
Linux wufazhuce 3.13.0-32-generic #57-Ubuntu SMP Tue Jul 15 03:51:08 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux

输出示例2：
Linux version 3.13.0-32-generic (buildd@kissel) (gcc version 4.8.2 (Ubuntu 4.8.2-19ubuntu1) ) #57-Ubuntu SMP Tue Jul 15 03:51:08 UTC 2014
```

### split 拆分文件

把文件按照60行一个文件进行拆分，拆分后的文件以 `data_` 作为前缀，以2位数字作为后缀：

```
split -l 60 your_file -d -a 2 data_

拆分后的文件为 data_00、data_01、data_02 等等
```

### curl 请求网络

可以模拟请求，传输参数：

```
POST 请求，参数放在 seeds中
curl --location --request POST 'url' \
--header 'content-type: application/x-www-form-urlencoded; charset=UTF-8' \
--header 'Content-Type: application/x-www-form-urlencoded' \
--data-urlencode 'seeds=[{"keyword":"王者荣耀", "TOP_PAGE": "100"},{"keyword":"LOL", "TOP_N": "100"}]'

GET 请求，获取信息
curl --location --request GET url'

POST 请求，参数放在文件中
curl -X POST --data-binary @your_file url
```

## Kafka

查看 `topic` 信息：

```
kafka-topics.sh --list --zookeeper dev:2181
```

生产数据：

```
kafka-console-producer.sh --topic your_topic --broker-list dev:9092
```

消费数据：

```
kafka-console-consumer.sh --zookeeper dev:2181 --topic your_topic
```

查看 `topic` 状态：

```
kafka-topics.sh --zookeeper dev:2181 --describe --topic your_topic
```

查看消费情况【消费组消费量、积压量、生产量】：

```
kafka-consumer-offset-checker.sh --zookeeper dev:2181 --group your_group --topic your_topic

如果上述脚本不可用，可以直接引用类
kafka-run-class.sh kafka.tools.ConsumerOffsetChecker --group your_group --topic your_topic --zkconnect dev:2181
```

## Zookeeper

操作：

```
登录
zkCli.sh -server ip:port

退出
quit
```

## HBase

`HBase` 操作：

```
登录
hbase shell

帮助文档
!help

退格
ctrl + Backspace

退出
!quit
```

`phoenix` 操作：

```
登录
phoenix-client/bin/sqlline.py dev:2181:/hbase-unsecure

帮助文档
!help

退出
!quit
```

