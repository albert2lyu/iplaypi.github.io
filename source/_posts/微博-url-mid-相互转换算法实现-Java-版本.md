---
title: 微博 url mid 相互转换算法实现-Java 版本
id: 2018122001
date: 2018-12-20 23:29:13
updated: 2018-12-20 23:29:13
categories: 基础技术知识
tags: [微博url,微博mid]
keywords: 微博url,微博mid,url与mid相互转换
---


对微博数据有了解的人都知道，一条微博内容对应有唯一的微博 `url`，同时对微博官方来说，又会生成一个 `mid`，`mid` 就是一条微博的唯一标识【就像 `uid` 是微博用户的唯一标识一样】，也类似于人的身份证号。其实，微博 `url` 里面有一串看起来无意义的字符【由字母、数字组成，6-8个字符长度】，可以和 `mid` 互相转换，本文就根据理论以及 `Java` 版本的实现，讲解微博 `url` 与 `mid` 的互相转换过程。


<!-- more -->


注意，为了确保多个 `id` 字段的定义不混乱，本文先约束好 `mid`、`uid`、`url`、`id`、`murl` 的概念：
- `mid`，一条微博拥有一个独立的标识，由微博官方生成【也可以理解为 `mobile id`，可以和 `murl` 转换】，可以和 `id` 互相转换，例如：`4404101091169383`【由 `I1IGF4Ud1` 转换】
- `url`，指一条微博的链接，里面包含了 `uid`、`id`，格式如：`https://weibo.com/uid/id`，例如：`https://weibo.com/3086148515/I1IGF4Ud1`
- `uid`，指一个微博用户的唯一标识，由微博官方生成，通过 `https://weibo.com/u/uid` 可以打开微博个人主页，例如：`https://weibo.com/u/3086148515`
- `id`，指 `url` 中标识微博的那部分，可以和 `mid` 互相转换，例如：`I1IGF4Ud1`
- `murl`，即 `mobile url`，移动端 `url`，格式：`https://m.weibo.cn/status/id`、`https://m.weibo.cn/status/mid`，专为客户端设计，适合使用手机、平板的浏览器打开，排版显示友好，如果使用电脑的浏览器打开，排版显示不友好，例如：`https://m.weibo.cn/status/I1IGF4Ud1`、`https://m.weibo.cn/status/4404101091169383`


# 数据示例


举一些链接、`id` 的示例，并且给出截图。

截图。。


待整理。


# 转换代码


提前说明，下文中涉及的代码已经被我上传至 `GitHub`：[xx](yy) ，读者可以提前下载查看。

此外，还有一份 `Python` 版本的代码，读者可以参考我的另外一篇博客：[微博 id mid 相互转换算法实现-Python 版本](https://www.playpi.org/2018071801.html) 。

待整理


# 备注


## 微博图床


本站点一开始使用的图床工具就是微博图床，很好用，免费，速度快，可以上传高清图片，后来听说被黑产人员恶意使用，已经开启了防盗链，只留下了几个接口用来钓鱼。有兴趣的读者可以参考我的另外几篇博客：[解决微博图床防盗链的问题](https://www.playpi.org/2019042701.html) 、[使用 Java 代码迁移微博图床到 GitHub 图床](https://www.playpi.org/2019050201.html) 。


从微博图床链接里面也可以提取用户的 `uid`，进一步就能找到这个用户。


## 微博短链接


各大公司都开始提供短链接服务。

有兴趣的读者可以参考我的另外一篇博客：[微博 URL 短网址生成算法 - Java 版本](https://www.playpi.org/2018101501.html) 。

